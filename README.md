# Spring_ToyProject
***
### ì‚¬ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬
- [JUnitğŸ“„](https://junit.org/junit5/docs/current/user-guide/#writing-tests-annotations)





***

# ê³µë¶€ ë° ê°œë°œ ì¼ì§€    


## Spring í”„ë ˆì„ì›Œí¬.

## DI(Dependency Injection) ì»¨í…Œì´ë„ˆ ì œê³µ -> ì‰½ê²Œ ë¶€í’ˆì„ êµì²´í•˜ë“¯ì´ ê°œë°œ ê°€ëŠ¥.

ì—­í™œê³¼ êµ¬í˜„ì„ ë¶„ë¦¬í•˜ì!!  ëª¨ë“  ì„¤ê³„ì— Interface ë¶€ì—¬.

## SOLID ìƒê°í•˜ë©´ì„œ ì„¤ê³„

(ì¢‹ì€ ê°ì²´ì§€í–¥ 5ê°€ì§€ ì›ì¹™)

> S : SRP(Single Responsibility Priciple) -> í•œ í´ë˜ìŠ¤ëŠ” í•˜ë‚˜ì˜ ì±…ì„.í´ë¼ì´ì–¸íŠ¸ ê°ì²´ëŠ” ì‹¤í–‰í•˜ëŠ” ì±…ì„ë§Œ ë‹´ë‹¹.   
> O : OCP(Open Closed Principle) -> í™•ì¥ì—ëŠ” ì—´ë ¤ìˆìœ¼ë‚˜ ë³€ê²½ì—ëŠ” ë‹«í˜„ìˆëŠ” ì›ì¹™.   
> L : LSP(Liskov Substituition Principle) ->   ì¸í„°í˜ì´ìŠ¤ => êµ¬í˜„ì²´.   
> I : ISP(Interface Segregation Principle) -> íŠ¹ì • í´ë¼ì´ì–¸íŠ¸ë¥¼ ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„.   
> D : DIP(Dependency Inversion Principle) -> ì¶”ìƒí™”ì— ì˜ì¡´í•œë‹¤. êµ¬ì²´í™”ì— ì˜ì¡´ x.



****


í• ì¸ ì •ì±… ë³€ê²½.

ë¬¸ì œì 
> ì¶”ìƒ(ì¸í„°í˜ì´ìŠ¤) ë¿ë§Œ ì•„ë‹ˆë¼ êµ¬ì²´(êµ¬í˜„) í´ë˜ìŠ¤ì—ë„ ì˜ì¡´í•˜ê³  ìˆë‹¤ . => DIP ìœ„ë°˜.   
> ì •ì±…ì„ ë³€ê²½í•  ë•Œ,OrderServiceImpë¥¼ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì¤˜ì•¼í•œë‹¤. => OCP ìœ„ë°˜.


í•´ê²° AppConfig ìƒì„± - ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì „ì²´ ë™ì‘ë°©ì‹ êµ¬ì„±í•˜ê¸° ìœ„í•´, êµ¬í˜„ ê°ì²´ë¥¼ ìƒì„±í•˜ê³ , ì—°ê²°í•˜ëŠ” ë³„ë„ì˜ ì„¤ì • í´ë˜ìŠ¤ ìƒì„±.

+ ì—­í™œê³¼ êµ¬í˜„ í´ë˜ìŠ¤ê°€ í•œëˆˆì— ë“¤ì–´ì˜¤ë„ë¡. -> ë¹ ë¥´ê²Œ íŒŒì•…ê°€ëŠ¥.

***


### IoC(Inversion of Control) ì œì–´ì˜ ì—­ì „

+ ë‚´ê°€ í˜¸ì¶œí•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ í”„ë ˆì„ì›Œí¬ê°€ í˜¸ì¶œ?

+ í”„ë¡œê·¸ë¨ì— ëŒ€í•œ ì œì–´ íë¦„ì— ëŒ€í•œ ê¶Œí•œì€ ëª¨ë‘ AppConfigê°€ ê°€ì§€ê³  ìˆë‹¤.   
  AppConfigëŠ” OrderServiceImplì´ ì•„ë‹Œ OrderService ì¸í„°í˜ì´ìŠ¤ì˜ ë‹¤ë¥¸ êµ¬í˜„ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì‹¤í–‰í• ìˆ˜ ìˆë‹¤.    
  ê·¸ëŸ° ì‚¬ì‹¤ë„ ëª¨ë¥¸ì±„ OrderServiceImplì€ ë¬µë¬µíˆ ìì‹ ì˜ ë¡œì§ ì‹¤í–‰   
  => **í”„ë¡œê·¸ë¨ì˜ ì œì–´ íë¦„ì„ ì§ì ‘ ì œì–´í•˜ëŠ”ê²ƒì´ ì•„ë‹ˆë¼ ì™¸ë¶€ì—ì„œ ê´€ë¦¬í•˜ëŠ” ê²ƒì„ ì œì–´ì˜ ì—­ì „(IoC)ë¼ í•œë‹¤.**
  


#### í”„ë ˆì„ì›Œí¬ vs ë¼ì´ë¸ŒëŸ¬ë¦¬

+ í”„ë ˆì„ì›Œí¬ê°€ ë‚´ê°€ ì‘ì„±í•œ ì½”ë“œë¥¼ ì œì–´í•˜ê³  ëŒ€ì‹  ì‹¤í–‰ -> í”„ë ˆì„ì›Œí¬ ë§ìŒ (Junit).
+ ë‚´ê°€ ì‘ì„±í•œ ì½”ë“œê°€ ì§ì ‘ ì œì–´ì˜ íë¦„ì„ ë‹´ë‹¹ -> ë¼ì´ë¸ŒëŸ¬ë¦¬.

#### ì˜ì¡´ê´€ê³„ ì£¼ì… DI(Dependency Injection)

+ **ì˜ì¡´ê´€ê³„ëŠ” ì •ì ì¸ í´ë˜ìŠ¤ ì˜ì¡´ ê´€ê³„ì™€, ì‹¤í–‰ ì‹œì ì— ê²°ì •ë˜ëŠ” ë™ì ì¸ ê°ì²´(ì¸ìŠ¤í„´ìŠ¤) ì˜ì¡´ ê´€ê³„ ë‘˜ì„ ë¶„ë¦¬í•´ì„œ ìƒê°.**
+ ì˜ì¡´ê´€ê³„ ì£¼ì…ì„ ì‚¬ìš©í•˜ë©´ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œë¥¼ ë³€ê²½í•˜ì§€ ì•Šê³ , í´ë¼ì´ì–¸íŠ¸ê°€ í˜¸ì¶œí•˜ëŠ” ëŒ€ìƒì˜ íƒ€ì… ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³€ê²½ í•  ìˆ˜ ìˆìŒ.
+ **ì• í”Œë¦¬ì¼€ì´ì…˜ "ì‹¤í–‰ ì‹œì (ëŸ°íƒ€ì„)" ì— ì™¸ë¶€ì—ì„œ ì‹¤ì œ êµ¬í˜„ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  í´ë¼ì´ì–¸íŠ¸ì— ì „ë‹¬í•´ì„œ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ì˜ ì‹¤ì œ ì˜ì¡´ê´€ê²Œê°€ ì—°ê²° ë˜ëŠ” ê²ƒì„ " ì˜ì¡´ê´€ê³„ ì£¼ì… " ì´ë¼ê³  í•œë‹¤.**

#### IoC ì»¨í…Œì´ë„ˆ, DI ì»¨í…Œì´ë„ˆ

+ AppConfig ì²˜ëŸ¼ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ë©´ì„œ ì˜ì¡´ê´€ê³„ë¥¼ ì—°ê²° í•´ ì£¼ëŠ” ê²ƒì„ ì˜ë¯¸.   
  ìµœê·¼ì—ëŠ” ì£¼ë¡œ DI ì»¨í…Œì´ë„ˆë¼ í•œë‹¤. ë˜ëŠ” ì–´ì…ˆë¸”ëŸ¬, ì˜¤ë¸Œì íŠ¸ í™í† ë¦¬ ë“±ìœ¼ë¡œ ë¶ˆë¦¬ê¸°ë„ í•œë‹¤.

#### ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ

+ "ApplicationContext" ë¥¼ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¼ í•¨.
+ **"@Configuration"** ì´ ë¶™ì€ AppConfigë¥¼ ì„¤ì •(êµ¬ì„±) ì •ë³´ë¡œ ì‚¬ìš©, **"@Bean"**ì´ë¼ ì íŒ ë©”ì„œë“œë¥¼ ëª¨ë‘ í˜¸ì¶œí•´ì„œ ë°˜í™˜ëœ ê°ì²´ë¥¼ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ë“±ë¡. ì´ë ‡ê²Œ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆì— ë“±ë¡ëœ ê°ì²´ë¥¼ ìŠ¤í”„ë§ ë¹ˆì´ë¼ í•œë‹¤.
+ ìŠ¤í”„ë§ ë¹ˆì€ "@Bean"ì´ ë¶™ì€ ë©”ì†Œë“œì˜ ëª…ì„ ìŠ¤í”„ë§ì˜ ë¹ˆì˜ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©. "applicatonContext.getBean()"ë¥¼ ì‚¬ìš©í•˜ì—¬ ë©”ì„œë“œë¥¼ ì°¾ìŒ.

***


#### ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ìƒì„±

+ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•  ë–„ëŠ” êµ¬ì„± ì •ë³´ë¥¼ ì§€ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.
+ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆëŠ” íŒŒë¼ë¯¸í„°ë¡œ ë„˜ì–´ì˜¨ ì„¤ì • í´ë˜ìŠ¤ ì •ë³´ë¥¼ ì‚¬ìš©í•´ì„œ ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡í•œë‹¤.

#### ìŠ¤í”„ë§ ë¹ˆ ì˜ì¡´ê´€ê³„ ì„¤ì •

+ ë‹¨ìˆœí•œ ìë°” ì½”ë“œë¥¼ í˜¸ì¶œí•œ ê²ƒ ê°™ì§€ë§Œ. ì•„ë‹ˆë‹¤. "ì‹±ê¸€í†¤ ì»¨í…Œì´ë„ˆ" gogo.

***



#### í…ŒìŠ¤íŠ¸

+ í†µí•©í…ŒìŠ¤íŠ¸ : ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ í¬í•¨
+ ìœ ë‹›í…ŒìŠ¤íŠ¸ : ë‹¨ìœ„ ìª¼ê°œì„œ ( ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ í¬í•¨í•˜ì§€ ì•Šê³ ) 
+ ìœ ë‹›í…ŒìŠ¤íŠ¸ì— ë” ìµìˆ™í•´ì ¸ì•¼í•œë‹¤.!!!

***



#### ìŠ¤í”„ë§ë¶€íŠ¸ ì¥ì 

+ ê°„í¸í•œ ì„¤ì •
+ í¸ë¦¬í•œ ì˜ì¡´ì„± ê´€ë¦¬ & ìë™ ê¶Œì¥ ë²„ì „ ê´€ë¦¬
+ ë‚´ì¥ì„œë²„ë¡œ ì¸í•œ ê°„ë‹¨í•œ ë°°í¬ ì„œë²„ êµ¬ì¶•
+ ìŠ¤í”„ë§ Security, Data JPA ë“±ì˜ ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ ìš”ì†Œë¥¼ ì‰½ê²Œ ì‚¬ìš© í•  ìˆ˜ìˆìŒ.


#### AOP ( Asepect Oriented Programming) - ê³µí†µê´€ì‹¬ì‚¬í•­ vs í•µì‹¬ê´€ì‹¬ì‚¬í•­ ë¶„ë¦¬! 

### AOPê°€ í•„ìš”í•œ ìƒí™©!

+ ëª¨ë“  ë©”ì†Œë“œì˜ í˜¸ì¶œì‹œê°„ ì¸¡ì •.
+ ê³µí†µ ê´€ì‹¬ì‚¬í•­ ( Cross-cutting concern) vs í•µì‹¬ ê´€ì‹¬ ì‚¬í•­( Core concern)
+ íšŒì›ê°€ì…ì‹œê°„, íšŒì›ì¡°íšŒ ì‹œê°„ ì¸¡ì • í•˜ê³ ì‹¶ì„ë–„?

#### BUT

+ ì‹œê°„ ì¸¡ì • í•˜ëŠ” ê¸°ëŠ¥ì€ í•µì‹¬ ê´€ì‹¬ì‚¬í•­ì´ ì•„ë‹ˆë‹¤! -> ê³µí†µ ê´€ì‹¬ ì‚¬í•­ì´ë‹¤.
+ ì‹œê°„ì„ ì¸¡ì •í•˜ëŠ” ë¡œì§ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ì˜ ë¡œì§ì´ ì„ì´ë©´ ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€



```JAVA
package Hyeongwon.Spring_Practice.aop;


import org.aspectj.lang.ProceedingJoinPoint;
import org.aspectj.lang.annotation.Around;
import org.aspectj.lang.annotation.Aspect;
import org.springframework.stereotype.Component;

@Aspect
@Component
public class TimeTraceAop {

    @Around("execution(* Hyeongwon.Spring_Practice..*(..)) ")
    public Object execute(ProceedingJoinPoint joinPoint) throws Throwable {
        long start = System.currentTimeMillis();
        System.out.println("START : " + joinPoint.toLongString());

        try {


            Object result = joinPoint.proceed();
            return result;

        } finally {
            long finish = System.currentTimeMillis();
            long timeMs = finish-start;
            System.out.println("End: " + joinPoint.toLongString() + " " + timeMs + "ms");
        }
    }
}

```









***




